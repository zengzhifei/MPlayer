<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>MPlayer</title>
    <script src="../dist/MPlayer.min.js?3"></script>
    <style>
        html, body {
            padding: 0;
            margin: 0;
        }
    </style>
</head>
<body>
<div id="root" style="width: 100%;height: 235px;"></div>
<script>
    let mPlayer = new MPlayer({
        el: '#root',
        video: {
            src: 'http://gzweb.ctvit.tv/ctvit_gz/Uploads/demo.mp4',
            poster: '../src/image/MPlayer-danmaku-open.png',
            currentTime: 0,
            autoplay: false,
            controls: false,
            loop: false,
            preload: false,
        },
        controls: {
            defaultVideoSwitch: false,
            defaultDanmakuSwitch: true,
            defaultVoiceSwitch: true,
            defaultScreenFull: false,
            backgroundColor: '',
        }
    });
    /*
        setTimeout(function () {
            mPlayer.config({
                video: {
                    src: 'http://gzweb.ctvit.tv/ctvit_gz/Uploads/demo.mp4',
                    poster: '../src/image/MPlayer-danmaku-open.png',
                },
            })
        }, 3000);*/

    let icons = mPlayer.extend();
    console.log(icons);

    let comment = mPlayer.extend('comment', 'icon-1', function () {
        console.log('comment');
    }).innerHTML = '点我评论';

    let collect = mPlayer.extend('collect', 'icon-2', function () {
        console.log('collect');
    }).innerHTML = '点我收藏';

    /* let hits = mPlayer.extend('hits','icon-1',function () {
         console.log('hits');
     }).innerHTML = '6999';*/

    /*let upvote = mPlayer.extend('upvote','icon-1',function () {
        console.log('upvote');
    }).innerHTML = '999';*/

    /*let live = mPlayer.extend('live','icon-2',function () {
        console.log('live');
    }).innerHTML = '电视直播中';*/

    /*let custom = mPlayer.addExtension('../src/image/MPlayer-custom-survey-icon-1.png',function () {
        console.log('custom');
    }).innerHTML = '<span style="color: red">问卷调查</span>';*/

    let custom = mPlayer.addExtension('', function () {
        console.log('custom');
    }).innerHTML = '电视直播中...';

    mPlayer.on({
        'play': function () {
            console.log('i am playing');
        },
        'pause': function () {
            console.log('i am pausing');
        }
    });

</script>
</body>
</html>